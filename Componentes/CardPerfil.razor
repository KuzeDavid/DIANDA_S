
@inject NavegacionService navegacionService


<RadzenCard Class="rz-my-12 rz-mx-auto" Style="max-width: 85%; width: 85%;">
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Start" Gap="1rem" Class="rz-p-4">
        <RadzenImage src="images/gato.jpg" Style="width: 100px; height: 100px; border-radius: 50%;" />
        <RadzenStack Gap="0">
            <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-2 rz-my-0">Nombre</RadzenText>
            <RadzenText TextStyle="TextStyle.Body1"><b>David Espinosa</b></RadzenText>
            <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex rz-mt-4 rz-mb-0">Carrera</RadzenText>
            <RadzenText TextStyle="TextStyle.Body1"><b>Ingenieria en Sistemas Computacionales (ISC)</b></RadzenText>
        </RadzenStack>
    </RadzenStack>
    <RadzenCard class="rz-background-color-primary-light rz-shadow-0 rz-border-radius-0 rz-p-8" style="margin: 1rem calc(-1 * var(--rz-card-padding));">
        <RadzenText TextStyle="TextStyle.H6" class="rz-color-on-primary-light"><strong>+ información</strong></RadzenText>
        <RadzenRow RowGap="0">
            <RadzenColumn SizeSM="4">
                <RadzenText TextStyle="TextStyle.Overline" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Boleta</RadzenText>
                <!--<RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-primary-light"><b>2020583475</b></RadzenText>-->
                <RadzenTextBox @bind-Value="@boleta" Disabled="@(!modoEdicion)" class="w-100" aria-label="Disabled TextBox" />
                <RadzenText TextStyle="TextStyle.Overline" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Hobbies</RadzenText>
                <RadzenTextBox @bind-Value="@hobbie" Disabled="@(!modoEdicion)" class="w-100" aria-label="Disabled TextBox" />
                <!--<RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-primary-light"><b>Videojuegos, Animación</b></RadzenText>-->
            </RadzenColumn>
            <RadzenColumn SizeSM="8">
                <RadzenText TextStyle="TextStyle.Overline" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Apodo</RadzenText>
                <!--<RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-primary-light"><b>Kuze</b></RadzenText>-->
                <RadzenTextBox @bind-Value="@apodo" Disabled="@(!modoEdicion)" class="w-100" aria-label="Disabled TextBox" />
                <RadzenText TextStyle="TextStyle.Overline" class="rz-color-on-primary-light rz-display-flex rz-mt-4 rz-mb-0">Sobre mi</RadzenText>
                <!--<RadzenText Disabled="true" TextStyle="TextStyle.Body1" class="rz-color-on-primary-light"><b>Me gustan los gatitos, apex legends y el cine de terror</b></RadzenText>-->
                <RadzenTextBox @bind-Value="@sobremi" Disabled="@(!modoEdicion)" class="w-100" aria-label="Disabled TextBox" />
            </RadzenColumn>
        </RadzenRow>
    </RadzenCard>
    @if (!navegacionService.Alumno)
    {
        <RadzenImage src="images/horario.jpg" style="display:block; margin: 0 auto; border-radius: 2%; height:300px" /> <!-- Remplazar con la del usuario cuando se tenga BD  y solo profes-->
    }
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End" Gap="0">
        <RadzenButton Variant="Variant.Text" class="rz-text-secondary-color" Text="@ModificarButtonText" Click="@ModificarClick" />
        <!--<RadzenButton Variant="Variant.Text" Text="Send" />-->
    </RadzenStack>
</RadzenCard>


@code {

    private string boleta = "2020647213";
    private string hobbie = "Videojuegos, programar, animación";
    private string apodo = "Kuze";
    private string sobremi = "Me gustan los gatitos, apex legends y el genero de terro en las peliculas";
    private bool modoEdicion = false;
    private string ModificarButtonText = "Modificar"; // Variable para controlar el texto del botón



    // Método que se ejecuta al hacer clic en el botón Modificar
    private void ModificarClick()
    {
        // Cambiar el estado del modo de edición
        modoEdicion = !modoEdicion;

        // Si estamos en modo de edición, cambiar el texto del botón a "Confirmar", de lo contrario, volver a "Modificar"
        if (modoEdicion)
        {
            ModificarButtonText = "Confirmar";
        }
        else
        {
            ModificarButtonText = "Modificar";
        }
        /*if(!modoEdicion){
            boleta = boletaNuevoValor;
            hobbie = hobbieNuevoValor;
            apodo = apodoNuevoValor;
            sobremi = sobremiNuevoValor;
        }*/
    }

    //Para el control de la imagen
    protected override void OnInitialized()
    {
        navegacionService.OnMostrarImagenChange += ActualizarVisibilidadImagen;
    }

    private void ActualizarVisibilidadImagen()
    {
        StateHasChanged();
    }


}
